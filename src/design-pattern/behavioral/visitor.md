# 访问者模式

## 核心思想

访问者模式允许将算法与对象结构分离，以便在不修改已有代码的情况下向现有类层次中添加新的行为。

## 典型用例

### 保证兼容性和扩展性

为保证兼容性和扩展性，当需要对一组不同类型的对象执行操作，且这些对象经常添加新类型时，访问者模式允许在不修改现有类的情况下添加新操作。

在这个例子中，有两种类型的元素和两种类型的访问者。每个访问者都以不同的方式处理不同类型的元素。如果需要添加新的元素类型或新的操作方式，只需添加新的元素类或新的访问者类，而无需修改现有的类。

```ts
// npm run code src/code/design-pattern/visitor/compatibility.ts

<!-- @include:@src/code/design-pattern/visitor/compatibility.ts -->
```
