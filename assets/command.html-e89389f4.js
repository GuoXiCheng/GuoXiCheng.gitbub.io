import{_ as s}from"./plugin-vue_export-helper-c27b6911.js";import{r as a,o as t,c as p,e as o,b as e}from"./app-e01a1490.js";const c={},i=e(`<h1 id="命令模式" tabindex="-1"><a class="header-anchor" href="#命令模式" aria-hidden="true">#</a> 命令模式</h1><p>在智能家居系统中，可以通过语音来控制家居设备，例如：通过向智能语言助手发出指令来打开或者关闭灯光。</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// run with: npm run code output/design-pattern/command/real-world.js</span>

<span class="token keyword">interface</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
    <span class="token function">execute</span><span class="token punctuation">(</span>order<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Bulb</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> isLight <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isLight <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Bulb is turned on&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isLight <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Bulb is turned off&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">getBulbStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isLight <span class="token operator">?</span> <span class="token string">&quot;on&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">LightCommand</span> <span class="token keyword">implements</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> receiver<span class="token operator">:</span> Bulb<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token function">execute</span><span class="token punctuation">(</span>order<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>order <span class="token operator">===</span> <span class="token string">&quot;打开灯光&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>receiver<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>order <span class="token operator">===</span> <span class="token string">&quot;关闭灯光&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>receiver<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> bulb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bulb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lightCommand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LightCommand</span><span class="token punctuation">(</span>bulb<span class="token punctuation">)</span><span class="token punctuation">;</span>

lightCommand<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token string">&quot;打开灯光&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Bulb is: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>bulb<span class="token punctuation">.</span><span class="token function">getBulbStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

lightCommand<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token string">&quot;关闭灯光&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Bulb is: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>bulb<span class="token punctuation">.</span><span class="token function">getBulbStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3);function l(u,k){const n=a("Playground");return t(),p("div",null,[i,o(n,{key:"5e634e30",title:"%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E4%BA%A4%E4%BA%92%E6%BC%94%E7%A4%BA",link:"https%3A%2F%2Fwww.typescriptlang.org%2Fplay%23code%2FJYOwLgpgTgZghgYwgAgMIHsC2m4gCbIDeAUMmchAB4QICukAFAJQBcyAbusHgNynm0QVGvQjM2nbnwC%2BxYggA2cAM7LkAFSpgAonmBh0UIvzIAHKMHZxIySJTDIAvMgBELvieTKIYTfYZCAO5%2BYGzKYBYgAOZMxuTxtgAWwMoAdHYOzkEhfPGynlE%2BIcxxCWRQPrRQIEkp6Vq55LL5iipqAIJ4eCEY2LgEwJimChCYEOBqvTj4xp7mltYoGWERoFGNZhZWNuYQ7MDotMohK5HrcvEI6CDhULQIBlAM89soFUiW0GwhuvqGADS2LSnNaxEhlMhgZJpDJOIH2DYJKF1Xb7Q7HLRw94QT5QVKFXxaZiI-LxYR0RisDhcAjgiHItLY3GpbyE-wM1JM9jQfFFImxADUtRhWiYJIuAiE1ApYipklpnniHK5PNZxQ5qIORxCYs8zTkrVUaCw0zwAFlcHBCkY6ZsFjZoY8AJ5sKb9ADaAF04V6PGTpaI3fgGFc%2BvhXSb%2BmDFeQOY7DE7UqYjokQ5H8LqIchQ6bUuTRMS9RKyII8OgSraElcbg4c-04XGUs6k%2BhTIWs8AYMg02G8NGs5d03hUoJ85TEXkiy1ruEKHpHnCghotL9HoXq7O6-gLSArdBFxBAsbezu909dfIZw44F0ABIQBQKdBBghZQ-ITrdLQvhgQecA1xEgfJ8XF1LdzUta08wDSAfxvPB70fZ8hwvDd0BGVInyiX9-zxAliiYVCr2QeCAHVDAUPAXwPI9Px6IccL%2BKBARcQIKLwUC%2BHA08oLHCA4K6cioEol8iJudCIEw9BsL-JjeTZMBmCIk9IJ5UtyzE5QJKkmTcPkgjdSAA"})])}const v=s(c,[["render",l],["__file","command.html.vue"]]);export{v as default};
