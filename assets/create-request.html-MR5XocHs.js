import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o as c,c as u,d as r,w as a,a as p,e as n,b as s}from"./app-CxdspBVH.js";const d={},k=p(`<h1 id="创建请求" tabindex="-1"><a class="header-anchor" href="#创建请求"><span>创建请求</span></a></h1><h2 id="安装-tinycrud" tabindex="-1"><a class="header-anchor" href="#安装-tinycrud"><span>安装 TinyCRUD</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">npm</span> <span class="token function">install</span> tiny-crud</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="创建-issue" tabindex="-1"><a class="header-anchor" href="#创建-issue"><span>创建 Issue</span></a></h2><p>登入你的 Gitee/Github/Gitlab，选择一个合适的项目，创建一个 Issue，用于存放数据。</p><h2 id="创建请求-1" tabindex="-1"><a class="header-anchor" href="#创建请求-1"><span>创建请求</span></a></h2><h3 id="准备个人访问令牌" tabindex="-1"><a class="header-anchor" href="#准备个人访问令牌"><span>准备个人访问令牌</span></a></h3><table><tr><th>平台</th><th></th></tr><tr><td>Github</td><td><a href="http://www.baidu.com/s?wd=Gitee个人访问令牌">如何取得个人访问令牌</a></td></tr><tr><td>Gitlab</td><td><a href="http://www.baidu.com/s?wd=Gitee个人访问令牌">如何取得个人访问令牌</a></td></tr><tr><td>Gitee</td><td><a href="http://www.baidu.com/s?wd=Gitee个人访问令牌">如何取得个人访问令牌</a></td></tr></table><h3 id="创建请求对象" tabindex="-1"><a class="header-anchor" href="#创建请求对象"><span>创建请求对象</span></a></h3><p>如果是在 Node/Web 环境下，可以使用如下代码创建请求：</p>`,10),v=s("div",{class:"language-typescript line-numbers-mode","data-highlighter":"prismjs","data-ext":"ts","data-title":"ts"},[s("pre",{class:"language-typescript"},[s("code",null,[s("span",{class:"line"},[s("span",{class:"token keyword"},"import"),n(" axios "),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},'"axios"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"import"),n(),s("span",{class:"token punctuation"},"{"),n(" createRequest "),s("span",{class:"token punctuation"},"}"),n(),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},'"tiny-crud"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"const"),n(" GithubRequest "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"createRequest"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    httpLib"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},'"axios"'),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[n("    httpClient"),s("span",{class:"token operator"},":"),n(" axios"),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[n("    accessToken"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},'"Your Personal Access Token"'),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[n("    platform"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},'"github"'),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[n("    owner"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},'"Your Owner"'),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[n("    repo"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},'"Your Repo"'),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),m=s("div",{class:"language-typescript line-numbers-mode","data-highlighter":"prismjs","data-ext":"ts","data-title":"ts"},[s("pre",{class:"language-typescript"},[s("code",null,[s("span",{class:"line"},[s("span",{class:"token keyword"},"import"),n(" axios "),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},'"axios"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"import"),n(),s("span",{class:"token punctuation"},"{"),n(" createRequest "),s("span",{class:"token punctuation"},"}"),n(),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},'"tiny-crud"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"const"),n(" gitlabRequest "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"createRequest"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    httpLib"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},'"axios"'),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[n("    httpClient"),s("span",{class:"token operator"},":"),n(" axios"),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[n("    accessToken"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},'"Your Personal Access Token"'),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[n("    platform"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},'"gitlab"'),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[n("    projectId"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},'"Your Project ID"'),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),b=s("div",{class:"language-typescript line-numbers-mode","data-highlighter":"prismjs","data-ext":"ts","data-title":"ts"},[s("pre",{class:"language-typescript"},[s("code",null,[s("span",{class:"line"},[s("span",{class:"token keyword"},"import"),n(" axios "),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},'"axios"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"import"),n(),s("span",{class:"token punctuation"},"{"),n(" createRequest "),s("span",{class:"token punctuation"},"}"),n(),s("span",{class:"token keyword"},"from"),n(),s("span",{class:"token string"},'"tiny-crud"'),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{class:"token keyword"},"const"),n(" giteeRequest "),s("span",{class:"token operator"},"="),n(),s("span",{class:"token function"},"createRequest"),s("span",{class:"token punctuation"},"("),s("span",{class:"token punctuation"},"{")]),n(`
`),s("span",{class:"line"},[n("    httpLib"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},'"axios"'),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[n("    httpClient"),s("span",{class:"token operator"},":"),n(" axios"),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[n("    accessToken"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},'"Your Personal Access Token"'),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[n("    platform"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},'"gitee"'),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[n("    owner"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},'"Your Owner"'),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[n("    repo"),s("span",{class:"token operator"},":"),n(),s("span",{class:"token string"},'"Your Repo"'),s("span",{class:"token punctuation"},",")]),n(`
`),s("span",{class:"line"},[s("span",{class:"token punctuation"},"}"),s("span",{class:"token punctuation"},")"),s("span",{class:"token punctuation"},";")]),n(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),h=p(`<div class="hint-container tip"><p class="hint-container-title">提示</p><p>安装 Axios 用于 Web/Node 环境下创建请求</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">npm</span> i axios</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>如果是在微信小程序环境下，可以使用如下代码创建请求：</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tiny-crud&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> githubRequest <span class="token operator">=</span> <span class="token function">createRequest</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    httpLib<span class="token operator">:</span> <span class="token string">&quot;wx&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    httpClient<span class="token operator">:</span> wx<span class="token punctuation">,</span></span>
<span class="line">    accessToken<span class="token operator">:</span> <span class="token string">&quot;Your Personal Access Token&quot;</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">    platform<span class="token operator">:</span> <span class="token string">&quot;github&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    owner<span class="token operator">:</span> <span class="token string">&quot;Your Owner&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    repo<span class="token operator">:</span> <span class="token string">&quot;Your Repo&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>默认情况下会使用官方的 API 地址，如果你需要将数据存储在私有的代码托管服务器上，可以使用 baseURL 字段指定 URL 地址：</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="line"><span class="token keyword">const</span> githubRequest <span class="token operator">=</span> <span class="token function">createRequest</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    httpLib<span class="token operator">:</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    httpClient<span class="token operator">:</span> axios<span class="token punctuation">,</span></span>
<span class="line">    accessToken<span class="token operator">:</span> <span class="token string">&quot;Your Personal Access Token&quot;</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">    platform<span class="token operator">:</span> <span class="token string">&quot;github&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    owner<span class="token operator">:</span> <span class="token string">&quot;Your Owner&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    repo<span class="token operator">:</span> <span class="token string">&quot;Your Repo&quot;</span><span class="token punctuation">,</span></span>
<span class="line highlighted">    baseURL<span class="token operator">:</span> <span class="token string">&quot;https://your-github-api.com&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>TinyCRUD 中使用的官方 API 地址参考如下：</p><table><thead><tr><th>平台</th><th>API 地址</th></tr></thead><tbody><tr><td>Github</td><td><code>https://api.github.com</code></td></tr><tr><td>Gitlab</td><td><code>https://gitlab.com</code></td></tr><tr><td>Gitee</td><td><code>https://gitee.com</code></td></tr></tbody></table><p>你可以为该请求对象提供一个 Issue 编号，这样 TinyCRUD 将会使用该 Issue 存储数据：</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="line"><span class="token keyword">const</span> githubRequest <span class="token operator">=</span> <span class="token function">createRequest</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    httpLib<span class="token operator">:</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    httpClient<span class="token operator">:</span> axios<span class="token punctuation">,</span></span>
<span class="line">    accessToken<span class="token operator">:</span> <span class="token string">&quot;Your Personal Access Token&quot;</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">    platform<span class="token operator">:</span> <span class="token string">&quot;github&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    owner<span class="token operator">:</span> <span class="token string">&quot;Your Owner&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    repo<span class="token operator">:</span> <span class="token string">&quot;Your Repo&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    baseURL<span class="token operator">:</span> <span class="token string">&quot;https://your-github-api.com&quot;</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line highlighted">    issueNumber<span class="token operator">:</span> <span class="token string">&quot;Your Issue Number&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="验证授权" tabindex="-1"><a class="header-anchor" href="#验证授权"><span>验证授权</span></a></h2><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="line"><span class="token keyword">this</span><span class="token punctuation">.</span>githubRequest<span class="token punctuation">.</span><span class="token function">authenticate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="使用加密" tabindex="-1"><a class="header-anchor" href="#使用加密"><span>使用加密</span></a></h2><p>当 useEncrypt 字段为 true 时，TinyCRUD 将会对数据进行加密，然后再存储到 Issue 中，当从 Issue 中读取数据时，TinyCRUD 将会对数据进行解密。</p><p>因此，当 useEncrypt 字段为 true 时，你必须实现加密函数 encryptFn 和解密函数 decryptFn，TinyCRUD 将会使用这两个函数对数据进行加解密。</p><p>例如使用 crypto-js 进行加解密，可以使用如下代码：</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="line"><span class="token keyword">import</span> CryptoJS <span class="token keyword">from</span> <span class="token string">&quot;crypto-js&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> githubRequest <span class="token operator">=</span> <span class="token function">createRequest</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    httpLib<span class="token operator">:</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    httpClient<span class="token operator">:</span> axios<span class="token punctuation">,</span></span>
<span class="line">    accessToken<span class="token operator">:</span> <span class="token string">&quot;Your Personal Access Token&quot;</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">    platform<span class="token operator">:</span> <span class="token string">&quot;github&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    owner<span class="token operator">:</span> <span class="token string">&quot;Your Owner&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    repo<span class="token operator">:</span> <span class="token string">&quot;Your Repo&quot;</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">    useEncrypt<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token function-variable function">encryptFn</span><span class="token operator">:</span> <span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> CryptoJS<span class="token punctuation">.</span><span class="token constant">AES</span><span class="token punctuation">.</span><span class="token function">encrypt</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&quot;Your Secret Key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token function-variable function">decryptFn</span><span class="token operator">:</span> <span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> CryptoJS<span class="token punctuation">.</span><span class="token constant">AES</span><span class="token punctuation">.</span><span class="token function">decrypt</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&quot;Your Secret Key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span></span>
<span class="line">            CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Utf8</span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>安装 crypto-js 用于加解密</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">npm</span> i crypto-js</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>当 useEncrypt 字段为 false 时，加解密函数 encryptFn 和 decryptFn 将会被忽略。</p><p>因此，你可以根据不同的环境，选择使用加密或者不使用，例如：</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="line"><span class="token keyword">const</span> githubRequest <span class="token operator">=</span> <span class="token function">createRequest</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    httpLib<span class="token operator">:</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    httpClient<span class="token operator">:</span> axios<span class="token punctuation">,</span></span>
<span class="line">    accessToken<span class="token operator">:</span> <span class="token string">&quot;Your Personal Access Token&quot;</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">    platform<span class="token operator">:</span> <span class="token string">&quot;github&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    owner<span class="token operator">:</span> <span class="token string">&quot;Your Owner&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    repo<span class="token operator">:</span> <span class="token string">&quot;Your Repo&quot;</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">    useEncrypt<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token function-variable function">encryptFn</span><span class="token operator">:</span> <span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> CryptoJS<span class="token punctuation">.</span><span class="token constant">AES</span><span class="token punctuation">.</span><span class="token function">encrypt</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&quot;Your Secret Key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token function-variable function">decryptFn</span><span class="token operator">:</span> <span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> CryptoJS<span class="token punctuation">.</span><span class="token constant">AES</span><span class="token punctuation">.</span><span class="token function">decrypt</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&quot;Your Secret Key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span></span>
<span class="line">            CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Utf8</span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,20);function g(y,q){const o=l("CodeTabs");return c(),u("div",null,[k,r(o,{id:"26",data:[{id:"github"},{id:"gitlab"},{id:"gitee"}]},{title0:a(({value:t,isActive:e})=>[n("github")]),title1:a(({value:t,isActive:e})=>[n("gitlab")]),title2:a(({value:t,isActive:e})=>[n("gitee")]),tab0:a(({value:t,isActive:e})=>[v]),tab1:a(({value:t,isActive:e})=>[m]),tab2:a(({value:t,isActive:e})=>[b]),_:1}),h])}const x=i(d,[["render",g],["__file","create-request.html.vue"]]),R=JSON.parse(`{"path":"/dump/projects/TinyCRUD-Docs/create-request.html","title":"创建请求","lang":"zh-CN","frontmatter":{"index":true,"order":1,"description":"创建请求 安装 TinyCRUD 创建 Issue 登入你的 Gitee/Github/Gitlab，选择一个合适的项目，创建一个 Issue，用于存放数据。 创建请求 准备个人访问令牌 创建请求对象 如果是在 Node/Web 环境下，可以使用如下代码创建请求： 提示 安装 Axios 用于 Web/Node 环境下创建请求 如果是在微信小程序环境下...","head":[["meta",{"property":"og:url","content":"https://guoxicheng.top/dump/projects/TinyCRUD-Docs/create-request.html"}],["meta",{"property":"og:site_name","content":"Guo's Page"}],["meta",{"property":"og:title","content":"创建请求"}],["meta",{"property":"og:description","content":"创建请求 安装 TinyCRUD 创建 Issue 登入你的 Gitee/Github/Gitlab，选择一个合适的项目，创建一个 Issue，用于存放数据。 创建请求 准备个人访问令牌 创建请求对象 如果是在 Node/Web 环境下，可以使用如下代码创建请求： 提示 安装 Axios 用于 Web/Node 环境下创建请求 如果是在微信小程序环境下..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-13T07:17:20.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-13T07:17:20.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"创建请求\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-13T07:17:20.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"安装 TinyCRUD","slug":"安装-tinycrud","link":"#安装-tinycrud","children":[]},{"level":2,"title":"创建 Issue","slug":"创建-issue","link":"#创建-issue","children":[]},{"level":2,"title":"创建请求","slug":"创建请求-1","link":"#创建请求-1","children":[{"level":3,"title":"准备个人访问令牌","slug":"准备个人访问令牌","link":"#准备个人访问令牌","children":[]},{"level":3,"title":"创建请求对象","slug":"创建请求对象","link":"#创建请求对象","children":[]}]},{"level":2,"title":"验证授权","slug":"验证授权","link":"#验证授权","children":[]},{"level":2,"title":"使用加密","slug":"使用加密","link":"#使用加密","children":[]}],"git":{"createdTime":1704790218000,"updatedTime":1718263040000},"readingTime":{"minutes":2.61,"words":783},"filePathRelative":"dump/projects/TinyCRUD-Docs/create-request.md","localizedDate":"2024年1月9日","autoDesc":true,"excerpt":"\\n<h2>安装 TinyCRUD</h2>\\n<div class=\\"language-bash\\" data-highlighter=\\"prismjs\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code><span class=\\"line\\"><span class=\\"token function\\">npm</span> <span class=\\"token function\\">install</span> tiny-crud</span>\\n<span class=\\"line\\"></span></code></pre></div>"}`);export{x as comp,R as data};
