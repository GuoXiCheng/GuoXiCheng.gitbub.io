import{_ as c,a as p}from"./android-rect-d4rCRbA8.js";import{_ as r}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as i,o as l,c as u,e as s,b as n,d as a,a as t}from"./app-1SgONSaI.js";const h={},k=t('<h1 id="贡献指南参考" tabindex="-1"><a class="header-anchor" href="#贡献指南参考" aria-hidden="true">#</a> 贡献指南参考</h1><h2 id="实现原理" tabindex="-1"><a class="header-anchor" href="#实现原理" aria-hidden="true">#</a> 实现原理</h2><p>利用Android无障碍服务，获取当前窗口对象，遍历窗口节点，当节点符合指定条件时，执行点击的动作。</p><h2 id="核心逻辑" tabindex="-1"><a class="header-anchor" href="#核心逻辑" aria-hidden="true">#</a> 核心逻辑</h2>',4),m=n("h2",{id:"配置文件选项",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#配置文件选项","aria-hidden":"true"},"#"),a(" 配置文件选项")],-1),_={href:"https://github.com/GuoXiCheng/SKIP/blob/main/app/src/main/assets/skip_config_v2.yaml",target:"_blank",rel:"noopener noreferrer"},b={id:"packagename",tabindex:"-1"},x=n("a",{class:"header-anchor",href:"#packagename","aria-hidden":"true"},"#",-1),g=n("p",null,"应用包名",-1),v=n("p",null,"在SKIP的应用白名单中，可以查看应用的包名。",-1),f={id:"skiptexts",tabindex:"-1"},y=n("a",{class:"header-anchor",href:"#skiptexts","aria-hidden":"true"},"#",-1),A=t(`<p>根据文本匹配，当节点的文本<strong>包含</strong>指定字符串时，执行点击动作。可以配置多组。</p><p>在手机屏幕上看到的文本是什么就可以填什么，但是实际节点text为null时，会失效。</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token punctuation">-</span> <span class="token key atrule">packageName</span><span class="token punctuation">:</span> com.xxx.xxx
  <span class="token key atrule">skipTexts</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">text</span><span class="token punctuation">:</span> 跳过广告
      <span class="token key atrule">length</span><span class="token punctuation">:</span> <span class="token number">4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),B={id:"skipids",tabindex:"-1"},I=n("a",{class:"header-anchor",href:"#skipids","aria-hidden":"true"},"#",-1),w=t(`<p>根据id匹配，当节点的id<strong>等于</strong>指定字符串时，执行点击动作。可以配置多组。</p><p>id需要使用<strong>Android布局分析工具</strong>查询，但实际节点id为null时，不可用。</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token punctuation">-</span> <span class="token key atrule">packageName</span><span class="token punctuation">:</span> com.xxx.xxx
  <span class="token key atrule">skipIds</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> com.xxx.xxx<span class="token punctuation">:</span>id/view_count_down
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),N={id:"skipbounds",tabindex:"-1"},S=n("a",{class:"header-anchor",href:"#skipbounds","aria-hidden":"true"},"#",-1),T=n("p",null,[a("根据bounds匹配，当所设定的bounds"),n("strong",null,"包含"),a("节点的bounds时，执行点击动作。可以配置多组。")],-1),V=n("p",null,[a("一般可交互的节点都会具有bounds，需要使用"),n("strong",null,"Android布局分析工具"),a("查询。")],-1),L=n("h2",{id:"android布局分析工具",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#android布局分析工具","aria-hidden":"true"},"#"),a(" Android布局分析工具")],-1),C={href:"https://github.com/alibaba/web-editor",target:"_blank",rel:"noopener noreferrer"},W=t('<h3 id="应用布局参考图" tabindex="-1"><a class="header-anchor" href="#应用布局参考图" aria-hidden="true">#</a> 应用布局参考图</h3><p>当你选中想要的目标节点时，会显示该节点的布局结构，参考如下：</p><figure><img src="'+c+`" alt="应用布局参考图" width="300" tabindex="0" loading="lazy"><figcaption>应用布局参考图</figcaption></figure><h3 id="配置skiptexts和skipids" tabindex="-1"><a class="header-anchor" href="#配置skiptexts和skipids" aria-hidden="true">#</a> 配置skipTexts和skipIds</h3><p><code>text</code>呈现的值，可以对应到配置文件中的<code>text</code></p><p><code>resourceId</code>呈现的值，可以对应到配置文件中的<code>id</code></p><h3 id="配置skipbounds" tabindex="-1"><a class="header-anchor" href="#配置skipbounds" aria-hidden="true">#</a> 配置skipBounds</h3><p>skipBounds的值是需要计算得到的，可能长得像这样</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token punctuation">-</span> <span class="token key atrule">packageName</span><span class="token punctuation">:</span> com.xxx.xxx
  <span class="token key atrule">skipBounds</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">bound</span><span class="token punctuation">:</span> <span class="token number">1223</span><span class="token punctuation">,</span><span class="token number">196</span><span class="token punctuation">,</span><span class="token number">1384</span><span class="token punctuation">,</span><span class="token number">308</span>
      <span class="token key atrule">resolution</span><span class="token punctuation">:</span> <span class="token number">1440</span><span class="token punctuation">,</span><span class="token number">3024</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中的1440,3024是你当前手机屏幕的最大宽高。</p><p>其中的1223,196,1384,308分别表示一个节点在屏幕中的: left,top,right,bottom</p><p>参考上图中rect的信息: left=x,top=y,right=x+width,bottom=y+height</p><figure><img src="`+p+'" alt="Android屏幕节点布局" width="300" tabindex="0" loading="lazy"><figcaption>Android屏幕节点布局</figcaption></figure>',13);function z(M,P){const d=i("Mermaid"),o=i("ExternalLinkIcon"),e=i("Badge");return l(),u("div",null,[k,s(d,{id:"mermaid-12",code:"eJxLL0osyOBSAALH6GcLdj7rXVeSWlHybP7SZ537XnQ1PW/aGaugq2un4FT9bMb6pxOWPV074+mcFbVgHU5AGQWgMFiBczRQ7dP23VBNCAVATWAFLlDzM1MwTXfFYroriukIIZh5blDzkvJL81KKMc10RzVTAWyCO6ahYCGYoR7Rz3dPfjZ3fiwXWC45J7G42CU1TSElNS2xNKdEITk/J7/ISjktLc2aCwBwaIWn"}),m,n("p",null,[a("配置文件位置："),n("a",_,[a("配置文件"),s(o)])]),n("h3",b,[x,a(" packageName "),s(e,{text:"必填",type:"danger",vertical:"middle"})]),g,v,n("h3",f,[y,a(" skipTexts "),s(e,{text:"选填",type:"tip",vertical:"middle"})]),A,n("h3",B,[I,a(" skipIds "),s(e,{text:"选填",type:"tip",vertical:"middle"})]),w,n("h3",N,[S,a(" skipBounds "),s(e,{text:"选填",type:"tip",vertical:"middle"})]),T,V,L,n("p",null,[a("我使用的是："),n("a",C,[a("web-editor"),s(o)]),a("，使用Android Studio自带的或其他工具也一样，只要可以探查屏幕节点的布局结构即可。")]),W])}const K=r(h,[["render",z],["__file","contribute.html.vue"]]);export{K as default};
